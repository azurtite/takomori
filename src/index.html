<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
		<!-- meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'" -->
		<!-- install less.js -->
			<link rel="stylesheet/less" type="text/css" href="./index.less" />
			<script src="../node_modules/less/dist/less.min.js"></script>

		<!-- install bootstrap@3.3.7 -->
			<meta http-equiv="X-UA-Compatible" content="IE=edge">
			<meta name="viewport" content="width=device-width, initial-scale=1">
			<link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
			<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
			<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
			<!--[if lt IE 9]>
			<script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
			<script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
			<![endif]-->
		<!-- install liblary -->
			<script src="../node_modules/jquery/dist/jquery.min.js"></script>
			<script src="../node_modules/lodash/lodash.min.js"></script>
			<script src="./octoprint.client.1.8.4.js"></script>
			<script src="./roundslider.min.js"></script>
		<!-- install self javascript -->
			<script src="./logMan.js"></script>
			<script src="./location.js"></script>
			<script src="./index.js"></script>
		<!-- install liblary css -->
			<link rel="stylesheet" href="./roundslider.min.css">
		<title>tokomori</title>
	</head>
	<body>
		<div class="content-counter">
			Current value: <strong id="counter">0</strong>
		</div>
	<!-- main window -->
		<div class="main-window" id="main-window-ctrl">
			<!-- base body -->
			<div class="basebody"></div>
			<!-- tool templature icon -->
			<div class="nav-fire-space pos-fire-tool">
				<div class="nav-fire-title">tool</div>
				<div class="nav-fire-target">
					<strong class="target" id="tool-target-text">N/A</strong>
				</div>
				<div class="nav-fire-icon" id="tool-icon">
					<span class="glyphicon glyphicon glyphicon-fire" aria-hidden="true"></span>
				</div>
				<div class="nav-fire-value">
					<strong class="tool" id="tool-text">N/A</strong>
				</div>
			</div>
			<!-- bed templature icon -->
			<div class="nav-fire-space pos-fire-bed">
				<div class="nav-fire-title">bed</div>
				<div class="nav-fire-target">
					<strong class="target" id="bed-target-text">N/A</strong>
				</div>
				<div class="nav-fire-icon" id="bed-icon">
					<span class="glyphicon glyphicon glyphicon-fire" aria-hidden="true"></span>
				</div>
				<div class="nav-fire-value">
					<strong class="bed" id="bed-text">N/A</strong>
				</div>
			</div>
			<!-- fan speed icon -->
			<div class="nav-fire-space pos-fan-speed">
				<div class="nav-fire-title">fan</div>
				<div class="nav-fire-target">
					&nbsp;
				</div>
				<div class="nav-fire-icon" id="fan-icon">
					<span class="glyphicon glyphicon glyphicon-asterisk" aria-hidden="true"></span>
				</div>
				<div class="nav-fire-value">
					<strong class="fan" id="fan-text">0%</strong>
				</div>
			</div>
			<!-- printer icon -->
			<div class="nav-fire-space pos-printer">
				<div class="nav-fire-title" id='print-title-text'>print</div>
				<div class="nav-fire-target">
					&nbsp;
				</div>
				<div class="nav-fire-icon" id="print-icon">
					<span class="glyphicon glyphicon glyphicon-print" aria-hidden="true"></span>
				</div>
				<div class="nav-fire-value">
					<strong class="printer"></strong>
				</div>
			</div>
			<!-- job title -->
			<div class="nav-file-name">
				<div class="nav-off" id="power-btn">
					<span class="glyphicon glyphicon glyphicon-off" aria-hidden="true"></span>
				</div>
				&nbsp;<strong class="nav-jobname" id="jobname">not printed</strong><br />
			</div>
			<!-- progress bar -->
			<div class="progress">
				<div id="progressbar-one" class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%">
					&nbsp;
				</div>
			</div>
			<!-- completion area -->
			<div class="completearea">
				<strong class="complete" id="complete-text">0%</strong>
			</div>
			<!-- print time -->
			<table class="printtime">
				<tr>
					<td class="printtime-title">Print time :</td>
					<td class="printtime-value" id="printtime-text">0s</td>
				</tr>
				<tr>
					<td class="printtime-title">Print time left :</td>
					<td class="printtime-value" id="printtimeleft-text">0s</td>
				</tr>
			</table>
			<!-- slider panel tool -->
			<div class="slider-panel-tool" id="slider-panel-tool-ctrl">
				<strong class="slider-text">Tool temperature</strong>
				<div class="slider">
					<div class="block">
						<div class="cell">
							<div id="handle1" class="slider_look"></div>
							<style>
								#handle1 .rs-handle  {
									background-color:	transparent;
									border:				8px solid transparent;
									border-right-color: black;
									margin:				-6px 0px 0px 14px !important;
									border-width:		6px 64px 6px 4px;
								}
								#handle1 .rs-handle:before  {
									display:			block;
									content:			" ";
									position:			absolute;
									height:				22px;
									width:				22px;
									background:			black;
									right:				-11px;
									bottom:				-11px;
									border-radius:		100px;
								}
								#handle1 .rs-tooltip  {
									top:				75%;
									font-size:			11px;
									color:				#FFDC00
								}
								#handle1 .rs-tooltip div  {
									text-align:			center;
									color:				#FFDC00
									border-radius: 4px;
									padding: 1px 5px 2px;
									margin-top: 4px;
								}
								#handle1 .rs-range-color  {
									background-color:	#EA5405;
								}
								#handle1 .rs-path-color  {
									background-color:	#FFDC00;
								}
								#handle1 .rs-bg-color {
									background-color:	#261F87;
								}
							</style>
							<script>
								$("#handle1").roundSlider({
									sliderType: 		"min-range",
									editableTooltip:	false,
									radius:				65,
									width:				16,
									value:				0,
									min:				0,
									max:				240,
									handleSize: 		0,
									handleShape:		"square",
									circleShape:		"pie",
									startAngle:			315,
									tooltipFormat:		"changeTooltipTool",
									valueChange:		"changeValueTool"
								});
								function changeTooltipTool(event) {
									var val = event.value, temperature;
									if(val < 180) temperature = 'Low';
									else if(val < 210) temperature = 'PLA';
									else if(val < 230) temperature = 'ABS';
									else temperature = 'Very high';

									if(val == 0) return "N/A" + "<div>" + temperature + "<div>"; 
									else return val + " C" + "<div>" + temperature + "<div>";
								}
								function changeValueTool(event) {
									toolTempValue = event.value;
									$$$.message('Tool value is ' + toolTempValue, LOWDEBUG, 'changeValueTool');
								}
							</script>
						</div>
					</div>
				</div>
				<div class="tool-on-sw" id="tool-on-sw-btn">
					<span class="glyphicon glyphicon glyphicon-off" aria-hidden="true"></span>
				</div>
				<div class="tool-on-remove" id="tool-on-remove-btn">
					<sapn class="glyphicon glyphicon glyphicon-remove" aria-hidden="true"></sapn>
				</div>
			</div>
			<!-- slider panel bed -->
			<div class="slider-panel-bed" id="slider-panel-bed-ctrl">
				<strong class="slider-text">Bed temperature</strong>
				<div class="slider">
					<div class="block">
						<div class="cell">
							<div id="handle2" class="slider_look"></div>
							<style>
								#handle2 .rs-handle  {
									background-color:	transparent;
									border:				8px solid transparent;
									border-right-color: black;
									margin:				-6px 0px 0px 14px !important;
									border-width:		6px 64px 6px 4px;
								}
								#handle2 .rs-handle:before  {
									display:			block;
									content:			" ";
									position:			absolute;
									height:				22px;
									width:				22px;
									background:			black;
									right:				-11px;
									bottom:				-11px;
									border-radius:		100px;
								}
								#handle2 .rs-tooltip  {
									top:				75%;
									font-size:			11px;
									color:				#FFDC00
								}
								#handle2 .rs-tooltip div  {
									text-align:			center;
									color:				#FFDC00
									border-radius: 4px;
									padding: 1px 5px 2px;
									margin-top: 4px;
								}
								#handle2 .rs-range-color  {
									background-color:	#EA5405;
								}
								#handle2 .rs-path-color  {
									background-color:	#FFDC00;
								}
								#handle2 .rs-bg-color {
									background-color:	#261F87;
								}
							</style>
							<script>
								$("#handle2").roundSlider({
									sliderType: 		"min-range",
									editableTooltip:	false,
									radius:				65,
									width:				16,
									value:				0,
									min:				0,
									max:				140,
									handleSize: 		0,
									handleShape:		"square",
									circleShape:		"pie",
									startAngle:			315,
									tooltipFormat:		"changeTooltipBed",
									valueChange:		"changeValueBed"
								});
								function changeTooltipBed(event) {
									var val = event.value, temperature;
									if(val < 40) temperature = 'Low';
									else if(val < 66) temperature = 'PLA';
									else if(val < 121) temperature = 'ABS';
									else temperature = 'Very high';

									if(val == 0) return "N/A" + "<div>" + temperature + "<div>"; 
									else return val + " C" + "<div>" + temperature + "<div>";
								}
								function changeValueBed(event) {
									bedTempValue = event.value;
									$$$.message('Bed value is ' + bedTempValue, DEBUG, 'changeValueTool');
								}
							</script>
						</div>
					</div>
				</div>
				<div class="bed-on-sw" id="bed-on-sw-btn">
					<span class="glyphicon glyphicon glyphicon-off" aria-hidden="true"></span>
				</div>
				<div class="bed-on-remove" id="bed-on-remove-btn">
					<sapn class="glyphicon glyphicon glyphicon-remove" aria-hidden="true"></sapn>
				</div>
			</div>
			<!-- left angle -->
			<div class="main-triangle-left">
				<div class="main-triangle-left-mark">
					<span class="glyphicon glyphicon glyphicon-triangle-left" id="left-mark-main"></span>
				</div>
			</div>
			<!-- right angle -->
			<div class="main-triangle-right">
				<div class="main-triangle-right-mark">
					<span class="glyphicon glyphicon glyphicon-triangle-right" id="right-mark-main"></span>
				</div>
			</div>
			<!-- down angle-->
			<div class="main-triangle-down">
				<div class="main-triangle-down-mark">
					<span class="glyphicon glyphicon glyphicon-triangle-bottom" id="down-mark-main"></span>
				</div>
			</div>
		</div>
	<!-- file window -->
		<div class="file-window" id="file-window-ctrl">
			<div class="file-list-title">
				<span class="glyphicon glyphicon glyphicon glyphicon-floppy-open" id="upload-btn"></span>
				<span class="glyphicon glyphicon glyphicon-refresh" id="reload-btn"></span>
			</div>
			<div class="file-list" id="file-list-ctrl"></div>
			<div class="information-panel" id="information-panel-ctrl"></div>
			<!-- notice panel -->
			<div class="file-notice" id="file-notice-ctrl">
				<div class="file-notice-text">
					<h4>Notices</h4>
					This feature will be<br />
					implemented in Stage 5<br />
				</div>
			</div>
			<!-- file upload form -->
			<form><input type="file" onchange='upload(this)' id="file-open.btn" style="visibility:hidden"></form>
			<!-- left angle -->
			<div class="file-triangle-left">
				<div class="file-triangle-left-mark">
					<span class="glyphicon glyphicon glyphicon-triangle-left" id="left-mark-file"></span>
				</div>
			</div>
			<!-- right angle -->
			<div class="file-triangle-right">
				<div class="file-triangle-right-mark">
					<span class="glyphicon glyphicon glyphicon-triangle-right" id="right-mark-file"></span>
				</div>
			</div>
			<!-- down angle-->
			<div class="file-triangle-down">
				<div class="file-triangle-down-mark">
					<span class="glyphicon glyphicon glyphicon-triangle-bottom" id="down-mark-file"></span>
				</div>
			</div>
		</div>
	<!-- manu window -->
		<div class="manu-window" id="manu-window-ctrl">
			<strong class="dummy-text">Manual control Panel</strong>
			<!-- manual operation butt&nbsp;n panel -->
			<table class="table3x3">
				<tr>
					<td class="header-50">&nbsp;</td>
					<td class="header-25">&nbsp;</td>
					<td class="header-25">&nbsp;</td>
					<td id="seed-value-p1" class="header header-53" colspan="3">0.1mm</td>
					<td id="seed-value-p2" class="header header-53" colspan="3">1mm</td>
					<td id="seed-value-p3" class="header header-50" colspan="2">10mm</td>
					<td id="seed-value-p4" class="header header-50">100mm</td>
				</tr>
				<tr>
					<td class="small-font space-w50b">&nbsp;</td>
					<td class="small-font space-w25b">&nbsp;</td>
					<td class="small-font space-w25b">&nbsp;</td>
					<td class="small-font space-w25b">&nbsp;</td>
					<td class="small-font space-w3b" >&nbsp;</td>
					<td class="small-font space-w25b">&nbsp;</td>
					<td class="small-font space-w25b">&nbsp;</td>
					<td class="small-font space-w3b" >&nbsp;</td>
					<td class="small-font space-w25b">&nbsp;</td>
					<td class="small-font space-w25b">&nbsp;</td>
					<td class="small-font space-w25b">&nbsp;</td>
					<td class="small-font space-w50b">&nbsp;</td>
				</tr>
				<tr>
					<td id="manu-btn-p1" class="button-w50">Hx</td>
					<td class="button-w25">&nbsp;</td>
					<td id="manu-btn-p2" class="button-w50" colspan="2">BL</td>
					<td class="button-w3 small-font">&nbsp;</td>
					<td id="manu-btn-p3" class="button-w50" colspan="2"><span class="glyphicon glyphicon glyphicon-arrow-up"></span></td>
					<td class="button-w3 small-font">8</td>
					<td id="manu-btn-p4" class="button-w50" colspan="2">BR</td>
					<td class="button-w25">&nbsp;</td>
					<td id="manu-btn-p5" class="button-w50"><span class="glyphicon glyphicon glyphicon-arrow-up"></span></td>
				</tr>
				<tr>
					<td class="small-font space-50">&nbsp;</td>
					<td class="small-font space-25">&nbsp;</td>
					<td class="small-font space-25">&nbsp;</td>
					<td class="small-font space-25">&nbsp;</td>
					<td class="small-font space-3" >&nbsp;</td>
					<td class="small-font space-25">&nbsp;</td>
					<td class="small-font space-25">&nbsp;</td>
					<td class="small-font space-3" >&nbsp;</td>
					<td class="small-font space-25">&nbsp;</td>
					<td class="small-font space-25">&nbsp;</td>
					<td class="small-font space-25">&nbsp;</td>
					<td class="small-font space-50">&nbsp;</td>
				</tr>
				<tr>
					<td id="manu-btn-p6" class="button-w50">Hy</td>
					<td class="button-w25">&nbsp;</td>
					<td id="manu-btn-p7" class="button-w50" colspan="2"><span class="glyphicon glyphicon glyphicon-arrow-left"></td>
					<td class="button-w3 small-font">&nbsp;</td>
					<td id="manu-btn-p8" class="button-w50" colspan="2"><span class="glyphicon glyphicon glyphicon-repeat"></span></td>
					<td class="button-w3 small-font">8</td>
					<td id="manu-btn-p9" class="button-w50" colspan="2"><span class="glyphicon glyphicon glyphicon-arrow-right"></td>
					<td class="button-w25">&nbsp;</td>
					<td id="manu-btn-pa" class="button-w50"><span class="glyphicon glyphicon glyphicon-home"></span></td>
				</tr>
				<tr>
					<td class="small-font space-50">&nbsp;</td>
					<td class="small-font space-25">&nbsp;</td>
					<td class="small-font space-25">&nbsp;</td>
					<td class="small-font space-25">&nbsp;</td>
					<td class="small-font space-3" >&nbsp;</td>
					<td class="small-font space-25">&nbsp;</td>
					<td class="small-font space-25">&nbsp;</td>
					<td class="small-font space-3" >&nbsp;</td>
					<td class="small-font space-25">&nbsp;</td>
					<td class="small-font space-25">&nbsp;</td>
					<td class="small-font space-25">&nbsp;</td>
					<td class="small-font space-50">&nbsp;</td>
				</tr>
				<tr>
					<td id="manu-btn-pb" class="button-w50">Hz</td>
					<td class="button-w25">&nbsp;</td>
					<td id="manu-btn-pc" class="button-w50" colspan="2">FL</td>
					<td class="button-w3 small-font">&nbsp;</td>
					<td id="manu-btn-pd" class="button-w50" colspan="2"><span class="glyphicon glyphicon glyphicon-arrow-down"></span></td>
					<td class="button-w3 small-font">8</td>
					<td id="manu-btn-pe" class="button-w50" colspan="2">FR</td>
					<td class="button-w25">&nbsp;</td>
					<td id="manu-btn-pf" class="button-w50"><span class="glyphicon glyphicon glyphicon-arrow-down"></span></td>
				</tr>
				<tr>
					<td class="header-50">Home</td>
					<td class="header-25">&nbsp;</td>
					<td class="header-25" colspan="8">X and Y</td>
					<td class="header-25">&nbsp;</td>
					<td class="header-50">Z</td>
				</tr>
			</table>
			<div class="extruder-panel">
				<div class="amount">
					<div class="input-group">
						<input type="text" id="amount-value" class="form-control" placeholder="amount" aria-describedby="basic-addon1" value="5" style="text-align:right">
						<span class="input-group-addon" id="basic-addon1">mm</span>
					</div>
				</div>
				<table class="table1x2">
					<tr>
						<td id="extruder-btn-up" class="button-w50"><span class="glyphicon glyphicon glyphicon-arrow-up"></span></td>
						<td class="button-w3 smallfont">&nbsp;</td>
						<td id="extruder-btn-down" class="button-w50"><span class="glyphicon glyphicon glyphicon-arrow-down"></span></td>
					</tr>
				</table>
			</div>
			<div class="extruder-panel-tag">
				<span>ExtruderPanel</span>
			</div>
			<!-- left angle -->
			<div class="manu-triangle-left">
				<div class="manu-triangle-left-mark">
					<span class="glyphicon glyphicon glyphicon-triangle-left" id="left-mark-manu"></span>
				</div>
			</div>
			<!-- right angle -->
			<div class="manu-triangle-right">
				<div class="manu-triangle-right-mark">
					<span class="glyphicon glyphicon glyphicon-triangle-right" id="right-mark-manu"></span>
				</div>
			</div>
			<!-- down angle-->
			<div class="manu-triangle-down">
				<div class="manu-triangle-down-mark">
					<span class="glyphicon glyphicon glyphicon-triangle-bottom" id="down-mark-manu"></span>
				</div>
			</div>
		</div>
	<!-- temp window -->
		<div class="temp-window" id="temp-window-ctrl">
			<strong class="dummy-text">Temperature view Panel</strong>
			<!-- left angle -->
			<div class="temp-triangle-left">
				<div class="temp-triangle-left-mark">
					<span class="glyphicon glyphicon glyphicon-triangle-left" id="left-mark-temp"></span>
				</div>
			</div>
			<!-- right angle -->
			<div class="temp-triangle-right">
				<div class="temp-triangle-right-mark">
					<span class="glyphicon glyphicon glyphicon-triangle-right" id="right-mark-temp"></span>
				</div>
			</div>
			<!-- down angle-->
			<div class="temp-triangle-down">
				<div class="temp-triangle-down-mark">
					<span class="glyphicon glyphicon glyphicon-triangle-bottom" id="down-mark-temp"></span>
				</div>
			</div>
		</div>
	<!-- winctrl -->
		<div class="nav-winctrl">
			<div class="nav-minimum">
				<span class="glyphicon glyphicon glyphicon-minus" aria-hidden="true"></span>
			</div>
			<div class="nav-fullscreen" id="fullscreen-btn">
				<span class="glyphicon glyphicon glyphicon-fullscreen" aria-hidden="true"></span>
			</div>
			<div class="nav-remove" id="remove-btn">
				<span class="glyphicon glyphicon glyphicon-remove" aria-hidden="true"></span>
			</div>
		</div>
	<!-- sub menu -->
		<div class="nav-submenu">
			<div class="nav-triangle-sub" id="submenu-btn">
				&nbsp;
			</div>
			<div class="nav-move">
				<div class="nav-move-icon">
					<span class="glyphicon glyphicon glyphicon-move"></span><br />
				</div>
				<div class="nav-move-title">
					move
				</div>
			</div>
			<div class="nav-stats">
				<div class="nav-stats-icon">
					<span class="glyphicon glyphicon glyphicon-stats"></span><br />
				</div>
				<div class="nav-stats-title">
					glaph
				</div>
			</div>
			<div class="nav-console">
				<div class="nav-console-icon">
					<span class="glyphicon glyphicon glyphicon-console"></span><br />
				</div>
				<div class="nav-console-title">
					gCode
				</div>
			</div>
			<div class="nav-cog">
				<div class="nav-cog-icon">
					<span class="glyphicon glyphicon glyphicon-cog"></span><br />
				</div>
				<div class="nav-cog-title">
					config
				</div>
			</div>
			<div class="nav-log">
				<div class="nav-log-icon">
					<span class="glyphicon glyphicon glyphicon-file"></span><br />
				</div>
				<div class="nav-log-title">
					log
				</div>
			</div>
			<div class="nav-suspend" id="suspend-btn">
				<div class="nav-suspend-icon">
					<span class="glyphicon glyphicon glyphicon-remove"></span><br />
				</div>
				<div class="nav-suspend-title">
					close
				</div>
			</div>
		</div>
	<!-- alert panel -->
		<div class="alert-panel" id="alert-pnl">
			<div class="alert-text-area">
				<strong class="alert-text">This is alert message view area.</strong>
			</div>
			<div class="alert-ok" id="alert-ok-btn">
				<strong>OK</strong>
			</div>
		</div>
	<!-- reload button -->
		<div class="reload-btn">
			<span class="glyphicon glyphicon glyphicon-repeat" id="reload-btn-ctrl"></span>
		</div>

	<!-- scripts -->
		<script src="./renderer.js"></script>
		<!-- install bootstrap -->
		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
			<script src="../node_modules/jquery/dist/jquery.min.js"></script>
		<!-- Include all compiled plugins (below), or include individual files as needed -->
			<script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
	</body>
</html>
